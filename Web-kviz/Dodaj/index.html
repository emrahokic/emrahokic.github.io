<!DOCTYPE html>
<html lang="en">

<head>
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <title>FIT | Kviz znanja</title>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .shadow {
            /*border: 2px solid forestgreen;
            border-radius: 5px;*/
            box-shadow: 1px 1px 20px lightgreen;
        }
    </style>
<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
</head>

<body>

    <!--nav-->

    <nav style=" box-shadow: 0.5px 0.5px 20px rgb(51, 122, 183)" class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="../index.html"> <span style="color: rgb(51, 122, 183)"> <strong>FIT | Web-Kviz</strong> </span></a>
            </div>
            <ul class="nav navbar-nav">
                <li class="">
                    <a href=""> <strong> | </strong> </a>
                </li>
                <li id="li1" class="active">
                    <a href="index.html"> <strong> Dodavanje pitanja </strong> </a>
                </li>
                <li id="li2" class="">
                    <a href="index2.html"> <strong>Uvid u pitanja</strong> </a>
                </li>

            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
            </ul>
        </div>
    </nav>

    <!--content-->
    <h1 style="text-align: center;color: rgb(51, 122, 183)"><strong>Unos pitanja u bazu</strong></h1>
    <div  style="margin-top: 50px" class="col-sm-12 col-md-12 ">

        <div class=" col-sm-3 col-md-3 ">

        </div>

        <div id="content" style="padding: 20px; border-radius: 10px; box-shadow: 0.5px 0.5px 50px rgb(51, 122, 183)" class=" col-sm-6 col-md-6 ">


            <select name="" id="BrPitanja" class="form-control">
                <option value="" disabled selected>-> Koliko zelite pitanja?</option>
                <option value="3">3</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
            </select>
            <br>
            <input type="text" name="" id="Kategorija" class="form-control" value="" required="required" placeholder="Nova kategorija"
                pattern="" title="">
            <h5 id="Rbr"></h5>

            <input type="text" name="" id="Pitanje" class="form-control" value="" required="required" placeholder="Pitanje" pattern=""
                title="">
            <br>

            <div class=" col-sm-8 col-md-8 ">

                <div class="row">
                    <br>
                    <div class=" col-md-10">
                        <div id="g1" class="input-group">
                            <span class="input-group-addon"><input onchange="provjera()"  id="Todg1" name="odgovor" type="radio" aria-label="..."></span>
                            <input id="odgovor1" type="text" class="form-control" placeholder="Odgovor #1" aria-label="...">
                        </div>
                        <!-- /input-group -->
                    </div>

                    <br>
                    <br>
                    <div class=" col-md-10">
                        <div id="g2" class="input-group">
                            <span class="input-group-addon"><input onchange="provjera()" id="Todg2" name="odgovor" type="radio" aria-label="..."></span>
                            <input id="odgovor2" type="text" class="form-control" placeholder="Odgovor #2" aria-label="...">
                        </div>
                        <!-- /input-group -->
                    </div>
                    <br>
                    <br>
                    <div class=" col-md-10">
                        <div id="g3" class="input-group">
                            <span class="input-group-addon"><input onchange="provjera()" id="Todg3" name="odgovor" type="radio" aria-label="..."></span>
                            <input id="odgovor3" type="text" class="form-control" placeholder="Odgovor #3" aria-label="...">
                        </div>
                        <!-- /input-group -->
                    </div>
                    <br>
                    <!-- /. -->
                </div>
                <!-- /.row -->
                <br>
                <br>

                <button id="dodaj" type="button" class="btn btn-success">Dodaj pitanje</button>

            </div>

        </div>

    </div>

<div id="mc_embed_signup">
<form action="//github.us16.list-manage.com/subscribe/post?u=e1c7ef80f58412eeb457edbd0&amp;id=b1330b6d31" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<h2>Subscribe to our mailing list</h2>
<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e1c7ef80f58412eeb457edbd0_b1330b6d31" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->

    <script>
//         if ('Hello, World?'.indexOf('?') !== -1)
//     alert("The string 'Hello World' contains the substring 'orl'!");
// else
//     alert("The string 'Hello World' does not contain the substring 'orl'!");

        function provjera(){


                                      if (document.getElementById("Todg1").checked) {
                                          document.getElementById("g1").className += " shadow";
                                           document.getElementById("g2").classList.remove("shadow");
                                           document.getElementById("g3").classList.remove("shadow");
                                           
                                      }
                                      if (document.getElementById("Todg2").checked) {
                                          document.getElementById("g2").className += " shadow";
                                           document.getElementById("g3").classList.remove("shadow");
                                          document.getElementById("g1").classList.remove("shadow");
                                          
                                          
                                      }
                                      if (document.getElementById("Todg3").checked) {
                                          document.getElementById("g1").classList.remove("shadow");
                                          
                                           document.getElementById("g2").classList.remove("shadow");
                                          document.getElementById("g3").className += " shadow";
                                      }
        }
            
                                      
                                      var TacanOdgovorDB;
                                      var Odgovor1DB;
                                      var Odgovor2DB;
                                      var Odgovor3DB;
                                      var PitanjeDB;
                                      var BrPitanjaDB;
                                      var KategorijaDB;
                                      var BrPPKDB;
                                      var i = 1;

                                      //navigacija active/inactive
                                      function func(clicked) {
                                          
                                          var li1 = document.getElementById("li1").className = "";
                                          li1 = document.getElementById("li2").className = "";
                                          document.getElementById(clicked).className = "active";
                                      }
                                      //kraj ***********************************************
                                      // dodavanje pitanja,odgovora,tacnog odgovora, kategorije...
                                      var dodaj = document.getElementById("dodaj");
                                      //tacan odgovor
                                      dodaj.addEventListener("click", function () {
                                          if (i == 1) {
                                              if (document.getElementById("BrPitanja").value != "-> Koliko zelite pitanja?")
                                                  BrPitanjaDB = document.getElementById("BrPitanja").value;
                                                  BrPPKDB=BrPitanjaDB;

                                              //Kategorija
                                              KategorijaDB = document.getElementById("Kategorija").value;

                                          }


                                          //pitanje
                                          PitanjeDB = document.getElementById("Pitanje").value;

                                          //odgovori                                 
                                          Odgovor1DB = document.getElementById("odgovor1").value;
                                          Odgovor2DB = document.getElementById("odgovor2").value;
                                          Odgovor3DB = document.getElementById("odgovor3").value;
                                          // dodavanje tacnog odgovora u varijablu
                                          var Todg1 = document.getElementById("Todg1").checked;
                                          var Todg2 = document.getElementById("Todg2").checked;
                                          var Todg3 = document.getElementById("Todg3").checked;
                                          if (Todg1) {
                                              TacanOdgovorDB = document.getElementById("odgovor1").value;
                                            //   document.getElementById("g1").className += " shadow";
                                          }
                                          if (Todg2) {
                                              TacanOdgovorDB = document.getElementById("odgovor2").value;
                                            
                                          }
                                          if (Todg3) {
                                              TacanOdgovorDB = document.getElementById("odgovor3").value;
                                          }
                                        
                                            // kraj *************************************************************
                                           if((Todg1==false && Todg2==false && Todg3==false) || ((KategorijaDB == "") || (BrPitanjaDB == "") || (Odgovor1DB == "") || (Odgovor2DB == "") || (Odgovor3DB == "") || (BrPitanjaDB == "")))
                                         {
                                              alert("Ostavili ste prazno polje!!");
                                            
                                         }
                                          else {
                                                
                                                document.getElementById("Rbr").innerHTML="  "+ (i+1) + " od " +  BrPitanjaDB;
                                                
                                              if (i <2) {

                                                  document.getElementById("Kategorija").remove();
                                                  document.getElementById("BrPitanja").remove();
                                              }
                                              document.getElementById("odgovor1").value = "";
                                              document.getElementById("odgovor2").value = "";
                                              document.getElementById("odgovor3").value = "";
                                              document.getElementById("Pitanje").value = "";
                                              document.getElementById("Todg1").checked = false;
                                              document.getElementById("Todg2").checked = false;
                                              document.getElementById("Todg3").checked = false;
                                              document.getElementById("Pitanje").focus();
                                              if( document.getElementById("g1").classList.contains("shadow"))
                                                document.getElementById("g1").classList.remove("shadow");
                                              if(document.getElementById("g2").classList.contains("shadow"))
                                                 document.getElementById("g2").classList.remove("shadow");
                                              if(document.getElementById("g3").classList.contains("shadow"))
                                                document.getElementById("g3").classList.remove("shadow");

                                                if(i==(BrPitanjaDB)){
                                                    document.getElementById("content").remove;
                                                    document.getElementById("content").innerHTML="<h1 style='text-align: center'>Uspjesno ste unijeli pitanja!</h1>";
                                                 }
                                                 dodavanjeUDB(KategorijaDB,BrPitanjaDB,PitanjeDB,Odgovor1DB,Odgovor2DB,Odgovor3DB,TacanOdgovorDB,i);
                                                i++;
        
                                          }

                                      });
    </script>
     <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyA_bs1WUi8gAL462PRUtL09X_UkZFkQgiE",
            authDomain: "webkviz-674e7.firebaseapp.com",
            databaseURL: "https://webkviz-674e7.firebaseio.com",
            projectId: "webkviz-674e7",
            storageBucket: "webkviz-674e7.appspot.com",
            messagingSenderId: "350021617085"
        };
        firebase.initializeApp(config);

       
       var rootRef = firebase.database().ref().child("RedniBrKategorije");
        var namee;
        rootRef.on("child_added", snap => {
            namee = snap.child("Rbr").val();
        });



        function dodavanjeUDB(Kat,BrP,Pit,O1,O2,O3,TO,i){
           
            if(i==1){
            namee++;
            var kategorijaRef="Kategorija  "+"-"+ namee;
            firebase.database().ref("Kategorije").child(kategorijaRef).set({
               NazivKategorije: Kat
            });

            
            }

             if(i==1){
          
            BrPPKDB= parseInt(BrPPKDB);
            firebase.database().ref("BrojPitanjaPoKategoriji").child(Kat).set({
               BRP: BrPPKDB 
            });
            
            
            }
            if(i==1){
             
             var dodajrbr = firebase.database().ref("RedniBrKategorije").child("RedniBr");
            dodajrbr.child("Rbr").set(namee);
            }

            var PitanjeRef="Pitanje "+"-"+i;
            firebase.database().ref(Kat).child(PitanjeRef).set({
                Pitanje: Pit,
                TacanOdgovor: TO,
                Odgovori: {
                    odg1: O1,
                    odg2: O2,
                    odg3: O3
                }
            });


        }
    

    </script>


</body>

</html>